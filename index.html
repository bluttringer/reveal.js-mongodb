<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>MongoDB</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<link rel="stylesheet" href="css/tweak.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>MongoDB</h1>
					<h3>une présentation orientée document</h3>
					<h1 style="color: #2F994D"><i class="fa fa-leaf"></i></h1>
					<p>
						<small>Benoit Luttringer</small>
					</p>
				</section>

				<section>
					<h2>Table des matières</h2>				
					<ol>
						<li>Présentation & fonctionnalités</li>
						<li>Dis, c'est quoi un document?</li>
						<li>Les mains dans le cambouis</li>
						<li>Pour aller plus loin</li>
						<li>Concrètement, on fait quoi?</li>
						<li>Démo</li>
					</ol>
				</section>
				
				<section>
					<h1>Présentation & Fonctionnalités</h1>
					<h1 style="color: #2F994D"><i class="fa fa-leaf"></i></h1>
				</section>

				<section>		
					<h2 style="color: #2F994D"><i class="fa fa-leaf"></i></h2>
					<h2>Un indice chez vous: <u>énorme</u></h2>			
					<ul>						
						<li>Je suis une base de données qui stocke des documents</li>
						<li>J'offre de hautes performances</li>
						<li>Je suis capable de répliquer les données</li>
						<li>Je peux partager mes données sur plusieurs machines</li>
						<li>Mon nom vient de l'anglais 'humongous' qui veut dire 'énorme'</li>
					</ul>
					
				</section>

				<section>
					<h2 style="color: #2F994D"><i class="fa fa-leaf"></i></h2>
					<h2>Je suis... mongoDB!</h2>
					<p class="fragment">
						<img src="https://45.media.tumblr.com/da0f6556b46679a31927f97d6da9eab1/tumblr_nj0c2keui41rb2l1co1_400.gif">
					</p>
				</section>

				<section>
					<h2 style="color: #2F994D"><i class="fa fa-leaf"></i></h2>
					<h2>Fonctionnalités clés</h2>
					<p>
						Stockage de documents
					</p>
					<p>
						Hautes performances
					</p>		
					<p>
						Haute disponibilité
					</p>
					<p>
						Haute capacité
					</p>
					<aside class="notes">
						<ul>
							<li>Base de données opensource</li>
							<li>
								Avantages des documents
								<ul>
									<li>format natif javascript (idéal pour applis web)</li>
									<li>sous-document et tableaux réduisent le besoin de jointures (ça tombe bien)</li>
									<li>schéma non fixé, permet le polymorphisme</li>
								</ul>
							</li>
							<li>Hautes performances (index, sous-documents pour réduire les I/O)</li>
							<li>Haute dispo (failover automatique, redondance des données)</li>
							<li>La scalabilité horizontale est au coeur des fonctionnalités de mongo avec sharding automatique sur clé de partitionnement</li>
						</ul>						
					</aside>			
				</section>

				<section>
					<h2 style="color: #2F994D"><i class="fa fa-leaf"></i></h2>
					<h2>Mais...</h2>
					<p>
						MongoDB n'offre pas certaines fonctionnalités, contrairement aux bases relationnelles classiques
					</p>
					<p class="fragment fade-out height-0">
						<img src="https://49.media.tumblr.com/ee36b9099b6ea203b57745ef956e81cb/tumblr_nqziftTheZ1s266z3o1_500.gif">
					</p>
										
					<p class="fragment">
						Les jointures
						<p class="fragment">
							<span class="subtext"><i class="fa fa-arrow-right"></i> Adapter le modèle</span>
						</p>
					</p>

					<p class="fragment">
						Les transactions
						<p class="fragment">
							<span class="subtext"><i class="fa fa-arrow-right"></i> Mais opérations atomiques sur un seul document</span>
						</p>
					</p>

					<aside class="notes">
						<p>
							<ul>
								<li>Jointures: à voir plus tard dans la présentation, ce n'est pas un désavantage mais cela force à penser le modèle d'une façon différente d'une base relationnelle</li>
								<li>Transactions: en fait pas de transaction multi-documents. On ne peut pas faire de l'ACID (Atomicité, Cohérence, Isolation, Durabilité) comme en relationnel mais par contre les opérations sur un seul document sont atomiques. Encore une fois, nécessité d'adapter le modèle (mais mongo a un modèle avec des sous documents, des tableaux: une base relationnelle réalise la même chose avec <u>plusieurs</u> tables et donc a besoin de transactions ACID)</li>
							</ul>
						</p>					
					</aside>	
				</section>

				<section>
					<h2 style="color: #2F994D"><i class="fa fa-leaf"></i></h2>
					<h2>Installation</h2>
					<p>
						MongoDB peut être installée sans difficulté particulière sur Linux, OSX, Windows.
					</p>
				</section>

				<section>
					<h2 style="color: #2F994D"><i class="fa fa-leaf"></i></h2>
					<h2>MongoDB Enterprise</h2>
					<p>
						MongoDB est opensource mais il existe une version Enterprise qui apporte en plus:
						<ul>
							<li>Du support</li>
							<li>Des outils de management
								<ul>
									<li>Monitoring (performance des requêtes par exemple)</li>
									<li>Automatisation de tâches</li>
									<li>Sauvegardes</li>
								</ul>
							</li>
							<li>Une meilleur intégration des outils de sécurité: LDAP, Kerberos</li>
						</ul>
					</p>
				</section>

				<section>
					<h1>Dis, c'est quoi un document?</h1>
					<h1><i class="fa fa-file"></i></h1>
				</section>

				<section>	
					<h2><i class="fa fa-file"></i></h2>		
					<h2>Définition</h2>		
					<p>
						Un enregistrement MongoDB est un document qui est lui même une structure de données composée de clés / valeurs (format similaire au JSON)					
					</p>
					<p>
						Les valeurs de champs peuvent inclure d'autres documents, des tableaux et des tableaux de documents.
					</p>
					<p>
						Un ensemble de documents est appelé une collection (l'équivalent d'une table en relationnel)
					</p>
				</section>

				<section>	
					<h2><i class="fa fa-file"></i></h2>				
					<h2>Un exemple</h2>
					<pre><code data-trim>
{
	"title": "Electric Ladyland",
	"release_year": "1968",
	"genres": ["blues rock", "acid rock", "psychedelic rock"],
	"musicians": [{
			"name": "Jimi Hendrix",
			"roles": ["lead singer", "guitarist"]	
		}, {
			"name": "Mitch Mitchell",
			"roles": ["drums", "percussions"]
		}, {
			"name": "Noel Redding", 
			"roles": ["bass guitar", "singer"]
		}],
	"tracks_list": ...
}				
				    </code></pre>
				</section>

				<section>
					<h2><i class="fa fa-file"></i></h2>				
					<h2>Types</h2>
					<p>
						Tous les types classiques (Numérique, chaînes de caractères, dates, timestamps, etc.)						
					</p>
					<p><i class="fa fa-plus"></i></p>
					<p>
						GridFS pour stocker des fichiers de grande taille, GeoJSON pour les données géospatiales
					</p>
				</section>

				<section>
					<h1>Les mains dans le cambouis</h1>
					<h1 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h1>
					<h3>Interagir avec la base</h3>
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h2>
					<h2>MongoDB Shell</h2>
					<p>Le shell mongo permet de se connecter à une base MongoDB et d'interagir avec la base et les données qu'elle contient</p>
					<pre>
prompt> mongo &lt;hostname&gt;/&lt;database&gt;
					</pre>
					<p>
						pour se connecter à la base indiquée
					</p>
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h2>
					<h2>MongoDB Shell</h2>
					<p>Insérer un document dans une collection (qui sera créée si elle n'existe pas)</p>
					<pre><code>
db.albums.insert(
	{
		"title": "Led Zeppelin II",
		"release_year": "1969",
		"genres": ["blues rock", "hard rock"]
	}
)
					</code></pre>					
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h2>
					<h2>MongoDB Shell</h2>
					<p>Utiliser la méthode find() pour générer une requête sur une collection</p>
					<pre><code>
db.albums.find()
					</code></pre>		
					<p>Renvoie la liste de tous les albums dans la collection</p>
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h2>
					<h2>MongoDB Shell</h2>
					<p>Mettre à jour des données avec la méthode update()</p>
					<pre><code>
db.albums.update(
	{"title": "Led Zeppelin II"},
	{
		$push: { "genres": "blues"}
	}
)
					</code></pre>		
					<p>Ajoute un genre à la liste des genres de l'album "Led Zeppelin II"</p>
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h2>
					<h2>MongoDB Shell</h2>
					<p>Supprimer des documents dans une collection avec la méthode remove()</p>
					<pre><code>
db.albums.remove(
	{
		"genres": { $in: ["rockabilly"] }
	}
)
					</code></pre>		
					<p>Supprime tous les albums dont un des genres déclarés est 'rockabilly'</p>
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h2>
					<h2>MongoDB Shell</h2>
					<p>On peut également avec MongoDB shell
					<ul>
						<li>Réaliser des aggrégations de données</li>
						<li>Gérer les index</li>	
						<li>Administrer la base de données</li>
					</ul>
					</p>					
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-hand-spock-o"></i></h2>
					<h2>Drivers</h2>
					<p>Il existe un grand nombre de drivers disponibles pour interagir avec MongoDB depuis une application
					<ul>
						<li>C, C++, C#</li>
						<li>Java, Scala</li>	
						<li>Node.js, PHP</li>
						<li>Perl, Python, Ruby</li>						
					</ul>
					</p>					
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-search"></i></h2>
					<h2>Les requêtes en détail</h2>
					<p>
						Une requête se fait via la méthode find()			
					</p>					
					<pre><code>
db.albums.find(
	{ "release_year": { $gt: 1960 } },
	{ title: 1}
).limit(10)
					</code></pre>	
					<p>Elle s'applique sur une collection, en précisant les critères de recherche, les champs à sélectionner ainsi qu'un modificateur de curseur. Chacun de ces éléments est optionnel.</p>
				</section>

				<section>
					<h2 style="color: #5E63C2;"><i class="fa fa-search"></i></h2>
					<h2>Les requêtes en détail</h2>
					<p>
						Le comportement des requêtes est le suivant
					</p>
					<p>Elle s'applique sur une collection, en précisant les critères de recherche, les champs à sélectionner ainsi qu'un modificateur de curseur. Chacun de ces éléments est optionnel.</p>
				</section>

				<section>
					<section data-background="#dddddd">
						<h2>Slide Backgrounds</h2>
						<p>
							Set <code>data-background="#dddddd"</code> on a slide to change the background color. All CSS color formats are supported.
						</p>
						<a href="#" class="navigate-down">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/image-placeholder.png">
						<h2>Image Backgrounds</h2>
						<pre><code class="hljs">&lt;section data-background="image.png"&gt;</code></pre>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/image-placeholder.png" data-background-repeat="repeat" data-background-size="100px">
						<h2>Tiled Backgrounds</h2>
						<pre><code class="hljs" style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
					</section>
					<section data-background-video="https://s3.amazonaws.com/static.slid.es/site/homepage/v1/homepage-video-editor.mp4,https://s3.amazonaws.com/static.slid.es/site/homepage/v1/homepage-video-editor.webm" data-background-color="#000000">
						<div style="background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px;">
							<h2>Video Backgrounds</h2>
							<pre><code class="hljs" style="word-wrap: break-word;">&lt;section data-background-video="video.mp4,video.webm"&gt;</code></pre>
						</div>
					</section>
					<section data-background="http://i.giphy.com/90F8aUepslB84.gif">
						<h2>... and GIFs!</h2>
					</section>
				</section>

				<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						Different background transitions are available via the backgroundTransition option. This one's called "zoom".
					</p>
					<pre><code class="hljs">Reveal.configure({ backgroundTransition: 'zoom' })</code></pre>
				</section>

				<section data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						You can override background transitions per-slide.
					</p>
					<pre><code class="hljs" style="word-wrap: break-word;">&lt;section data-background-transition="zoom"&gt;</code></pre>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code class="hljs" data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
					</code></pre>
					<p>Code syntax highlighting courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

				<section>
					<h2>Marvelous List</h2>
					<ul>
						<li>No order here</li>
						<li>Or here</li>
						<li>Or here</li>
						<li>Or here</li>
					</ul>
				</section>

				<section>
					<h2>Fantastic Ordered List</h2>
					<ol>
						<li>One is smaller than...</li>
						<li>Two is smaller than...</li>
						<li>Three!</li>
					</ol>
				</section>

				<section>
					<h2>Tabular Tables</h2>
					<table>
						<thead>
							<tr>
								<th>Item</th>
								<th>Value</th>
								<th>Quantity</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Apples</td>
								<td>$1</td>
								<td>7</td>
							</tr>
							<tr>
								<td>Lemonade</td>
								<td>$2</td>
								<td>18</td>
							</tr>
							<tr>
								<td>Bread</td>
								<td>$3</td>
								<td>2</td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>Clever Quotes</h2>
					<p>
						These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
					</p>
					<blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
						reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
				</section>

				<section>
					<h2>Speaker View</h2>
					<p>There's a <a href="https://github.com/hakimel/reveal.js#speaker-notes">speaker view</a>. It includes a timer, preview of the upcoming slide as well as your speaker notes.</p>
					<p>Press the <em>S</em> key to try it out.</p>

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<section>
					<h2>Export to PDF</h2>
					<p>Presentations can be <a href="https://github.com/hakimel/reveal.js#pdf-export">exported to PDF</a>, here's an example:</p>
					<iframe src="https://www.slideshare.net/slideshow/embed_code/42840540" width="445" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:3px solid #666; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>
				</section>

				<section>
					<h2>Global State</h2>
					<p>
						Set <code>data-state="something"</code> on a slide and <code>"something"</code>
						will be added as a class to the document element when the slide is open. This lets you
						apply broader style changes, like switching the page background.
					</p>
				</section>

				<section data-state="customevent">
					<h2>State Events</h2>
					<p>
						Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
					</p>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;">
Reveal.addEventListener( 'customevent', function() {
	console.log( '"customevent" has fired' );
} );
					</code></pre>
				</section>

				<section>
					<h2>Take a Moment</h2>
					<p>
						Press B or . on your keyboard to pause the presentation. This is helpful when you're on stage and want to take distracting slides off the screen.
					</p>
				</section>

				<section>
					<h2>Much more</h2>
					<ul>
						<li>Right-to-left support</li>
						<li><a href="https://github.com/hakimel/reveal.js#api">Extensive JavaScript API</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#auto-sliding">Auto-progression</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#parallax-background">Parallax backgrounds</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#keyboard-bindings">Custom keyboard bindings</a></li>
					</ul>
				</section>

				<section style="text-align: left;">
					<h1>THE END</h1>
					<p>
						- <a href="http://slides.com">Try the online editor</a> <br>
						- <a href="https://github.com/hakimel/reveal.js">Source code &amp; documentation</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
